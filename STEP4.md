## 변경된 기능 요구사항
강의 수강신청은 강의 상태가 모집중일 때만 가능하다.
  * 강의가 진행 중인 상태에서도 수강신청이 가능해야 한다.
    * 강의 진행 상태(준비중, 진행중, 종료)와 모집 상태(비모집중, 모집중)로 상태 값을 분리해야 한다.
강의는 강의 커버 이미지 정보를 가진다.
  * 강의는 하나 이상의 커버 이미지를 가질 수 있다.
강사가 승인하지 않아도 수강 신청하는 모든 사람이 수강 가능하다.
  * 우아한테크코스(무료), 우아한테크캠프 Pro(유료)와 같이 선발된 인원만 수강 가능해야 한다.
    * 강사는 수강신청한 사람 중 선발된 인원에 대해서만 수강 승인이 가능해야 한다.
    * 강사는 수강신청한 사람 중 선발되지 않은 사람은 수강을 취소할 수 있어야 한다.

## 프로그래밍 요구사항
* 리팩터링할 때 컴파일 에러와 기존의 단위 테스트의 실패를 최소화하면서 점진적인 리팩터링이 가능하도록 한다. 
* DB 테이블에 데이터가 존재한다는 가정하에 리팩터링해야 한다. 
  * 즉, 기존에 쌓인 데이터를 제거하지 않은 상태로 리팩터링 해야 한다.
### 핵심 학습 목표
* DB 테이블이 변경될 때도 스트랭글러 패턴을 적용해 점진적인 리팩터링을 연습한다. 
  * 스트랭글러(교살자) 패턴 - 마틴 파울러 
  * 스트랭글러 무화과 패턴

## STEP4 기능분해
* 강의 수강신청은 강의 상태가 모집중일 때만 가능하다.
* [X] 강의가 진행중이어도 모집중이면 수강신청이 가능하다.
* [X] 강의가 진행중에 비모집중이면 수강신청 불가능하다는 Exception이 발생한다.
* [X] 강의가 준비중에 모집중이면 수강신청 가능하다.
* [X] 강의가 준비중이어도 비모집중이면 수강신청이 불가능하다는 Exception이 발생한다.
* 강의는 강의 커버 이미지 정보를 가진다.
* [X] 강의는 하나 이상의 커버 이미지를 갖는다.
* 강사가 승인하지 않아도 수강 신청하는 모든 사람이 수강 가능하다.
* [X] 수강신청한 사람 중 선발되지 않은 수강생은 수강 취소가 된다.
* [X] 수강신청한 사람 중 선발된 사람에 대해 수강 승인이 가능하다.

## STEP4 리팩토링
* [X] Session 인스턴스 변수 줄이기

## STEP4 보완사항
* [ ] List Collection 중 일급 콜렉션으로 구현하면 의미있는 필드가 있을까? 의미 있다 생각하는 필드를 일급 콜렉션으로 구현해 보는 것은 어떨까?
* [X] equals, hashCode, toString 사용하기 -> 사용하는 이유에 대해서 알아보기
* [X] Session 생성자 타입을 NsUser로 변경한 뒤에 객체를 전달하기 